<!DOCTYPE html>
<html>
<head>
    <title>Debug Tool</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            try {
                const WebApp = window.Telegram.WebApp;
                WebApp.ready();

                // === THU THẬP TẤT CẢ DỮ LIỆU MÀ WEB APP "NHÌN THẤY" ===
                
                // 1. Dữ liệu mà Telegram chính thức cung cấp
                const startParam = WebApp.initDataUnsafe.start_param || "[RỖNG]";

                // 2. Toàn bộ URL mà trình duyệt của Web App được mở
                const fullURL = window.location.href;

                // === TẠO BÁO CÁO DEBUG ===
                const report = 
`--- BÁO CÁO DEBUG TỪ WEB APP ---

1. Giá trị start_param nhận được:
${startParam}

2. Toàn bộ URL mà Web App được mở:
${fullURL}`;

                // === HIỂN THỊ BÁO CÁO CHO BẠN XEM ===
                // Chúng ta sẽ dùng showAlert để đảm bảo bạn đọc được nó.
                WebApp.showAlert(report, () => {
                    // Sau khi bạn bấm OK, nó sẽ tự đóng lại.
                    WebApp.close();
                });

            } catch (e) {
                // Nếu có lỗi, nó cũng sẽ báo cáo
                alert('Lỗi nghiêm trọng trong Web App: ' + e.message);
            }
        });
    </script>
</body>
</html>
